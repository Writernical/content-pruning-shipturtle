<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Shipturtle — Marketplace Platform Pillar | Content Pruning Audit</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<style>
  :root{--bg:#0c0e13;--surface:#14171e;--surface-2:#1a1e27;--surface-3:#222733;--border:#2a2f3b;--border-hover:#3a4050;--text:#e4e7ed;--text-muted:#8b92a5;--text-dim:#5c6377;--accent:#ec4899;--accent-glow:rgba(236,72,153,.12);--keep:#34d399;--keep-bg:rgba(52,211,153,.1);--merge:#fbbf24;--merge-bg:rgba(251,191,36,.1);--redirect:#f97316;--redirect-bg:rgba(249,115,22,.1);--delete:#f87171;--delete-bg:rgba(248,113,113,.1);--rewrite:#a78bfa;--rewrite-bg:rgba(167,139,250,.1);--repillar:#38bdf8;--repillar-bg:rgba(56,189,248,.1);--exclude:#94a3b8;--exclude-bg:rgba(148,163,184,.1);--gap:#e879f9;--gap-bg:rgba(232,121,249,.1)}
  *{margin:0;padding:0;box-sizing:border-box}body{font-family:'DM Sans',sans-serif;background:var(--bg);color:var(--text);line-height:1.6;min-height:100vh}
  ::-webkit-scrollbar{width:6px;height:6px}::-webkit-scrollbar-track{background:var(--surface)}::-webkit-scrollbar-thumb{background:var(--border);border-radius:3px}
  .header{background:var(--surface);border-bottom:1px solid var(--border);padding:24px 40px;position:sticky;top:0;z-index:100;backdrop-filter:blur(20px)}.header-inner{max-width:1600px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;gap:20px;flex-wrap:wrap}.header-left{display:flex;align-items:center;gap:16px}.logo-mark{width:40px;height:40px;background:linear-gradient(135deg,var(--accent),#db2777);border-radius:10px;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:18px;color:#fff}.header h1{font-size:20px;font-weight:700;letter-spacing:-.3px}.header h1 span{color:var(--text-muted);font-weight:400}.pillar-badge{display:inline-flex;align-items:center;gap:6px;background:var(--accent-glow);border:1px solid rgba(236,72,153,.3);color:var(--accent);font-size:12px;font-weight:600;padding:4px 12px;border-radius:20px;text-transform:uppercase;letter-spacing:.5px}.pillar-badge::before{content:'';width:6px;height:6px;background:var(--accent);border-radius:50%}
  .stats-bar{max-width:1600px;margin:0 auto;padding:24px 40px;display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:12px}.stat-card{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:16px 20px;transition:border-color .2s}.stat-card:hover{border-color:var(--border-hover)}.stat-card .label{font-size:11px;color:var(--text-dim);text-transform:uppercase;letter-spacing:.8px;margin-bottom:6px}.stat-card .value{font-family:'JetBrains Mono',monospace;font-size:22px;font-weight:600}.stat-card .sub{font-size:12px;color:var(--text-muted);margin-top:2px}.stat-card.keep .value{color:var(--keep)}.stat-card.merge .value{color:var(--merge)}.stat-card.rewrite .value{color:var(--rewrite)}.stat-card.redirect .value{color:var(--redirect)}.stat-card.repillar .value{color:var(--repillar)}.stat-card.exclude .value{color:var(--exclude)}
  .main{max-width:1600px;margin:0 auto;padding:0 40px 60px}.section{margin-top:32px}.section-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px;gap:16px;flex-wrap:wrap}.section-title{font-size:16px;font-weight:700;letter-spacing:-.2px;display:flex;align-items:center;gap:10px}.section-title .count{font-family:'JetBrains Mono',monospace;font-size:12px;background:var(--surface-3);color:var(--text-muted);padding:2px 8px;border-radius:6px}
  .filters{display:flex;gap:6px;flex-wrap:wrap}.filter-btn{font-family:'DM Sans',sans-serif;font-size:11px;font-weight:600;padding:5px 12px;border-radius:8px;border:1px solid var(--border);background:var(--surface);color:var(--text-muted);cursor:pointer;transition:all .2s;text-transform:uppercase;letter-spacing:.4px}.filter-btn:hover{border-color:var(--border-hover);color:var(--text)}.filter-btn.active{border-color:var(--accent);color:var(--accent);background:var(--accent-glow)}.filter-btn.active.keep{border-color:var(--keep);color:var(--keep);background:var(--keep-bg)}.filter-btn.active.merge{border-color:var(--merge);color:var(--merge);background:var(--merge-bg)}.filter-btn.active.rewrite{border-color:var(--rewrite);color:var(--rewrite);background:var(--rewrite-bg)}.filter-btn.active.redirect{border-color:var(--redirect);color:var(--redirect);background:var(--redirect-bg)}.filter-btn.active.repillar{border-color:var(--repillar);color:var(--repillar);background:var(--repillar-bg)}.filter-btn.active.exclude{border-color:var(--exclude);color:var(--exclude);background:var(--exclude-bg)}
  .table-wrap{background:var(--surface);border:1px solid var(--border);border-radius:14px;overflow:hidden}.table-scroll{overflow-x:auto}table{width:100%;border-collapse:collapse;font-size:13px}thead th{background:var(--surface-2);font-size:10px;font-weight:600;text-transform:uppercase;letter-spacing:.8px;color:var(--text-dim);padding:12px 14px;text-align:left;white-space:nowrap;border-bottom:1px solid var(--border);cursor:pointer;user-select:none;position:sticky;top:0;z-index:2}thead th:hover{color:var(--text-muted)}tbody tr{border-bottom:1px solid var(--border);transition:background .15s}tbody tr:last-child{border-bottom:none}tbody tr:hover{background:var(--surface-2)}tbody td{padding:12px 14px;vertical-align:top}
  .page-title{font-weight:500;color:var(--text);max-width:320px;line-height:1.4}.page-title a{color:inherit;text-decoration:none;border-bottom:1px solid transparent}.page-title a:hover{color:var(--accent);border-bottom-color:var(--accent)}.page-url{font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--text-dim);max-width:320px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-top:4px}
  .metric{font-family:'JetBrains Mono',monospace;font-weight:500;text-align:right;white-space:nowrap}.metric.zero{color:var(--delete);opacity:.6}.metric.low{color:var(--redirect)}.metric.mid{color:var(--text-muted)}.metric.high{color:var(--keep)}.ctr{font-size:11px;color:var(--text-dim)}
  .action-badge{display:inline-flex;align-items:center;gap:5px;font-size:11px;font-weight:600;padding:4px 10px;border-radius:6px;text-transform:uppercase;letter-spacing:.4px;white-space:nowrap}.action-badge.keep{background:var(--keep-bg);color:var(--keep);border:1px solid rgba(52,211,153,.2)}.action-badge.merge{background:var(--merge-bg);color:var(--merge);border:1px solid rgba(251,191,36,.2)}.action-badge.redirect{background:var(--redirect-bg);color:var(--redirect);border:1px solid rgba(249,115,22,.2)}.action-badge.rewrite{background:var(--rewrite-bg);color:var(--rewrite);border:1px solid rgba(167,139,250,.2)}.action-badge.repillar{background:var(--repillar-bg);color:var(--repillar);border:1px solid rgba(56,189,248,.2)}.action-badge.exclude{background:var(--exclude-bg);color:var(--exclude);border:1px solid rgba(148,163,184,.2)}
  .reasoning{font-size:12px;color:var(--text-muted);line-height:1.5;max-width:280px}.merge-target{font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--merge);margin-top:4px;display:block}
  .intent-tag{font-size:10px;padding:2px 6px;border-radius:4px;display:inline-block;margin-top:4px;font-weight:600}.intent-tag.valid{background:rgba(52,211,153,.08);color:var(--keep);border:1px solid rgba(52,211,153,.15)}.intent-tag.weak{background:rgba(251,191,36,.08);color:var(--merge);border:1px solid rgba(251,191,36,.15)}.intent-tag.offbrand{background:rgba(248,113,113,.08);color:var(--delete);border:1px solid rgba(248,113,113,.15)}.intent-tag.siteonly{background:rgba(148,163,184,.08);color:var(--exclude);border:1px solid rgba(148,163,184,.15)}
  .cannibal-card{background:var(--surface);border:1px solid var(--border);border-radius:14px;padding:24px;margin-bottom:16px;transition:border-color .2s}.cannibal-card:hover{border-color:var(--border-hover)}.cannibal-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px;gap:12px;flex-wrap:wrap}.cannibal-cluster-name{font-weight:700;font-size:15px;display:flex;align-items:center;gap:8px}.severity{font-size:10px;padding:3px 8px;border-radius:4px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.severity.critical{background:var(--delete-bg);color:var(--delete)}.severity.high{background:var(--redirect-bg);color:var(--redirect)}.severity.medium{background:var(--merge-bg);color:var(--merge)}.severity.structural{background:var(--accent-glow);color:var(--accent)}
  .cannibal-pages{display:grid;gap:10px}.cannibal-page{display:grid;grid-template-columns:auto 1fr auto auto;align-items:center;gap:14px;padding:12px 16px;background:var(--surface-2);border-radius:10px;border:1px solid transparent;font-size:13px}.cannibal-page.winner{border-color:rgba(52,211,153,.3);background:rgba(52,211,153,.04)}.cannibal-page.loser{border-color:rgba(248,113,113,.15);opacity:.75}.verdict-badge{font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.6px;padding:3px 8px;border-radius:4px;white-space:nowrap}.verdict-badge.winner{background:var(--keep-bg);color:var(--keep)}.verdict-badge.merge-in{background:var(--merge-bg);color:var(--merge)}.verdict-badge.redirect-to{background:var(--redirect-bg);color:var(--redirect)}.verdict-badge.exclude{background:var(--exclude-bg);color:var(--exclude)}.cannibal-reasoning{margin-top:14px;padding:14px 18px;background:var(--surface-3);border-radius:10px;font-size:13px;color:var(--text-muted);line-height:1.65;border-left:3px solid var(--accent)}
  .gap-card{background:var(--surface);border:1px solid var(--border);border-radius:14px;padding:20px 24px;margin-bottom:12px;display:grid;grid-template-columns:1fr auto;gap:16px;align-items:start;transition:border-color .2s}.gap-card:hover{border-color:var(--gap)}.gap-title{font-weight:600;font-size:14px;margin-bottom:4px}.gap-desc{font-size:12px;color:var(--text-muted);line-height:1.5}.gap-keywords{display:flex;gap:6px;flex-wrap:wrap;margin-top:8px}.gap-kw{font-family:'JetBrains Mono',monospace;font-size:10px;background:var(--gap-bg);color:var(--gap);padding:2px 8px;border-radius:4px;border:1px solid rgba(232,121,249,.2)}.gap-priority{font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.6px;padding:4px 10px;border-radius:6px;white-space:nowrap}.gap-priority.p1{background:var(--delete-bg);color:var(--delete)}.gap-priority.p2{background:var(--merge-bg);color:var(--merge)}.gap-priority.p3{background:var(--surface-3);color:var(--text-muted)}
  .page-subcategory{font-size:10px;padding:2px 6px;border-radius:4px;background:var(--surface-3);color:var(--text-dim);display:inline-block;margin-top:4px}
  .tabs{display:flex;gap:4px;background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:4px;margin-bottom:24px;width:fit-content}.tab{font-family:'DM Sans',sans-serif;font-size:13px;font-weight:600;padding:10px 20px;border-radius:8px;border:none;background:transparent;color:var(--text-muted);cursor:pointer;transition:all .2s}.tab:hover{color:var(--text)}.tab.active{background:var(--accent);color:#fff}.tab-content{display:none}.tab-content.active{display:block}.has-conv{color:var(--keep)}
  .intent-callout{background:var(--surface);border:1px solid var(--border);border-radius:14px;padding:20px 24px;margin-bottom:24px;border-left:3px solid var(--accent)}.intent-callout h3{font-size:14px;font-weight:700;margin-bottom:8px;color:var(--accent)}.intent-callout p{font-size:13px;color:var(--text-muted);line-height:1.6}
  .health-grid{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:24px}.health-card{background:var(--surface);border:1px solid var(--border);border-radius:14px;padding:20px 24px}.health-card h4{font-size:13px;font-weight:700;margin-bottom:10px;color:var(--accent);text-transform:uppercase;letter-spacing:.5px}.health-card p{font-size:13px;color:var(--text-muted);line-height:1.6}.health-card .highlight{color:var(--text);font-weight:600}
  .star-box{background:rgba(236,72,153,.04);border:1px solid rgba(236,72,153,.2);border-radius:14px;padding:20px 24px;margin-bottom:24px}.star-box h3{font-size:14px;font-weight:700;margin-bottom:8px;color:var(--accent)}.star-box p{font-size:13px;color:var(--text-muted);line-height:1.6}
  @media(max-width:900px){.header{padding:16px 20px}.stats-bar{padding:16px 20px;grid-template-columns:repeat(3,1fr)}.main{padding:0 20px 40px}.cannibal-page{grid-template-columns:1fr}.health-grid{grid-template-columns:1fr}}
</style>
</head>
<body>
<div class="header"><div class="header-inner"><div class="header-left"><div class="logo-mark">S</div><div><h1>Content Pruning Audit <span>— Marketplace Platform</span></h1></div></div><div class="pillar-badge">Pillar: Platform & Tools</div></div></div>
<div class="stats-bar" id="statsBar"></div>
<div class="main">
<div class="star-box">
  <h3>★ This Is Shipturtle's Money Pillar</h3>
  <p>This pillar contains Shipturtle's <strong>highest-converting content</strong>: #166 "Create Multivendor Marketplace on Shopify" drives 392 clicks and 9 conversions, #155 Shopify Themes drives 560 clicks and 6 conversions, and #179 Seller Sync drives 182 clicks and 4 conversions. Combined, this pillar generates <strong>34 conversions</strong> — more than all other pillars combined. Every decision here must be conversion-protective.</p>
</div>
<div class="health-grid">
  <div class="health-card"><h4>Pillar Health Summary</h4><p>38 pages assigned with <span class="highlight">3 distinct content categories</span>: Shopify-specific blog content (20 pages), platform comparison/tools blog content (10 pages), and site pages that should be excluded (8 pages including comparison landing pages and features page). The Shopify cluster is the strongest in the entire Shipturtle ecosystem but has <span class="highlight">4 cannibalization clusters</span> that are actively splitting traffic and diluting authority.</p></div>
  <div class="health-card"><h4>Priority Actions</h4><p><span class="highlight">1.</span> URGENT: Merge Shopify themes pages (#155 + #156) — combined 626 clicks being split. <span class="highlight">2.</span> Merge "Is Shopify a marketplace" pages (#159 + #165). <span class="highlight">3.</span> Consolidate custom-vs-SaaS pages (#171 + #172 + #164). <span class="highlight">4.</span> Redirect 4 zero-traffic geo pages. <span class="highlight">5.</span> Exclude 8 site pages from pillar architecture. <span class="highlight">6.</span> Fill 'Shopify marketplace app' gap (your #1 missing commercial page).</p></div>
</div>
<div class="tabs">
  <button class="tab active" data-tab="audit">Page-by-Page Audit</button>
  <button class="tab" data-tab="cannibal">Cannibalization Map</button>
  <button class="tab" data-tab="gaps">Content Gaps</button>
</div>
<div class="tab-content active" id="tab-audit">
  <div class="intent-callout"><h3>Conversion-First Methodology for This Pillar</h3><p>Because this pillar generates 34 Thank You submissions (more than all other pillars combined), we prioritize <strong>conversion protection</strong> over traffic consolidation. Merges are only recommended when they won't risk losing existing conversion paths. Every recommendation includes a conversion impact assessment.</p></div>
  <div class="section"><div class="section-header"><div class="section-title">All Pages <span class="count" id="pageCount">38</span></div><div class="filters" id="filters"></div></div>
  <div class="table-wrap"><div class="table-scroll"><table><thead><tr><th data-sort="id" style="width:40px">#</th><th data-sort="title">Page Title</th><th data-sort="subcat">Category</th><th data-sort="clicks" style="text-align:right">Clicks</th><th data-sort="impressions" style="text-align:right">Imp.</th><th data-sort="ctr" style="text-align:right">CTR</th><th data-sort="conversions" style="text-align:right">Conv.</th><th data-sort="action">Action</th><th style="min-width:260px">Reasoning</th></tr></thead><tbody id="auditBody"></tbody></table></div></div></div>
</div>
<div class="tab-content" id="tab-cannibal"><div class="section"><div class="section-title" style="margin-bottom:20px">Cannibalization Clusters <span class="count" id="cannibalCount"></span></div><div id="cannibalList"></div></div></div>
<div class="tab-content" id="tab-gaps"><div class="section"><div class="section-title" style="margin-bottom:20px">Content Gaps <span class="count" id="gapCount"></span></div><div id="gapList"></div></div></div>
</div>
<script>
const pages=[
  // ── SHOPIFY THEMES ──
  {id:155,title:"Top 7 Shopify Themes for Multi-Vendor Marketplaces [2024]",url:"blog/top-shopify-themes-for-multi-vendor-marketplaces",clicks:560,impressions:32542,conv:6,subcat:"Shopify Themes",action:"keep",intent:"valid",reason:"PILLAR STAR — 560 clicks, 32.5K impressions, 6 conversions. #1 Shopify marketplace theme page. Absorb #156. Update year from 2024 → 2026, add new themes, and expand with theme selection criteria (speed, customization, vendor dashboard compatibility). CONVERSION IMPACT: High — protect this URL at all costs."},
  {id:156,title:"Best Shopify Themes For Multi-Vendor Marketplace [Updated 2025]",url:"blog/best-shopify-themes-for-multi-vendor-marketplace",clicks:66,impressions:8328,conv:1,subcat:"Shopify Themes",action:"merge",intent:"valid",reason:"CANNIBALIZES #155 — identical topic ('best Shopify themes for marketplace'). #155 has 8.5x the clicks and 6 conversions vs 1. This page was likely created as an updated version but didn't supersede the original. Merge unique 2025 theme picks into #155. 301 redirect. CONVERSION RISK: Low — #155 absorbs the traffic.",mergeTarget:"→ 301 redirect to #155"},

  // ── SHOPIFY CORE ──
  {id:157,title:"Shopify Marketplace Development Services: What's Possible & What Needs 3rd Party Tools",url:"blog/shopify-marketplace-development-services",clicks:8,impressions:5290,conv:0,subcat:"Shopify Dev",action:"keep",intent:"valid",reason:"Valuable differentiation page — maps Shopify's native capabilities vs where Shipturtle fills gaps. 5.3K impressions. This page directly supports the sales conversation. Expand with feature-by-feature comparison table showing native Shopify vs Shipturtle capability."},
  {id:158,title:"Shopify Marketplace Connect App: Full Review, Pricing & Multi-Vendor Alternatives 2025",url:"blog/shopify-marketplace-connect-app-full-review",clicks:26,impressions:19046,conv:0,subcat:"Shopify App Review",action:"keep",intent:"valid",reason:"Strong SEO play — 26 clicks, 19K impressions targeting 'Shopify Marketplace Connect review'. This positions Shipturtle as the alternative for different use cases (Connect = outbound selling, Shipturtle = inbound multi-vendor). Refresh with 2026 pricing, add user review excerpts, and strengthen the 'when to use both together' angle."},
  {id:159,title:"Is Shopify the Right Platform for Building a Marketplace",url:"blog/is-shopify-the-right-platform-for-building-a-marketplace",clicks:41,impressions:12324,conv:3,subcat:"Shopify Evaluation",action:"keep",intent:"valid",reason:"CONVERSION DRIVER — 41 clicks, 12.3K impressions, 3 conversions. Targets evaluation-stage buyers asking 'can I build a marketplace on Shopify?' This page directly feeds into Shipturtle signups. Keep and absorb #165's overlapping content. CONVERSION IMPACT: High — protect."},
  {id:160,title:"Shopify As Marketplace: Migrating From Woocommerce To Shopify",url:"blog/shopify-as-marketplace-migrating-from-woocommerce-to-shopify",clicks:10,impressions:3184,conv:0,subcat:"Migration",action:"keep",intent:"valid",reason:"Unique angle — migration content serves a specific ICP (WooCommerce marketplace operators looking to switch). 'WooCommerce to Shopify migration' is a growing query. Expand with migration checklist, data transfer guide, and feature comparison pre/post migration."},
  {id:161,title:"Marketplace Technology: Shopify Outside, Custom Inside",url:"blog/marketplace-technology-shopify-outside-custom-inside",clicks:17,impressions:3920,conv:0,subcat:"Shopify Architecture",action:"keep",intent:"valid",reason:"Strong positioning piece — frames Shipturtle's hybrid approach (Shopify frontend + custom marketplace engine). 17 clicks. This is a unique narrative that differentiates Shipturtle from both pure SaaS and custom builds. Expand with architecture diagrams and API integration examples."},
  {id:162,title:"Top Benefits of Using Shopify Collective for Your Online Store",url:"blog/top-benefits-of-using-shopify-collective-for-your-online-store",clicks:126,impressions:34737,conv:0,subcat:"Shopify Collective",action:"keep",intent:"valid",reason:"STRONG PERFORMER — 126 clicks, 34.7K impressions. 'Shopify Collective' is a major Shopify feature that Shipturtle competes with. This page captures top-of-funnel traffic and educates on Collective's limitations. Add 'Shopify Collective vs Shipturtle' section with feature comparison table. Link to #187 (vs page)."},
  {id:163,title:"14 Must-Have Shopify Plugins For Scaling Your Online Marketplace 2025",url:"blog/shopify-plugins-for-online-marketplace-2025",clicks:33,impressions:12015,conv:2,subcat:"Shopify Plugins",action:"keep",intent:"valid",reason:"Solid performer with conversions — 33 clicks, 12K impressions, 2 conversions. 'Shopify marketplace plugins' is a proven commercial keyword. Refresh with 2026 plugin updates, add Shipturtle as featured plugin with honest comparison positioning."},
  {id:164,title:"Shopify vs. Custom Development: What's Better for Your Multi-Vendor Marketplace?",url:"blog/shopify-vs-custom-development-whats-better-for-your-multi-vendor-marketplace",clicks:7,impressions:7349,conv:0,subcat:"Build vs Buy",action:"merge",intent:"valid",reason:"CANNIBALIZES #171 — both target 'custom development vs marketplace platform'. #171 has 43 clicks and 46.3K impressions vs 7 clicks and 7.3K for this page. The Shopify-specific angle from this page should become a section within #171. The comparison framework is identical.",mergeTarget:"→ Merge into #171"},
  {id:165,title:"Is Shopify a Marketplace? Building A Marketplace On Shopify The Right Way",url:"blog/is-shopify-a-marketplace",clicks:33,impressions:6624,conv:2,subcat:"Shopify Evaluation",action:"merge",intent:"valid",reason:"CANNIBALIZES #159 + #166. 'Is Shopify a marketplace' overlaps with 'is Shopify the right platform for marketplace' (#159) and 'create marketplace on Shopify' (#166). #159 has more conversions (3 vs 2) and broader keyword scope. Merge unique content into #159. CONVERSION RISK: Medium — monitor #159's conversion rate post-merge.",mergeTarget:"→ 301 redirect to #159"},

  // ── SHOPIFY BUILD GUIDES ──
  {id:166,title:"How To Create A Successful Multivendor Marketplace On Shopify?",url:"blog/create-multivendor-marketplace-on-shopify",clicks:392,impressions:92803,conv:9,subcat:"Shopify Build",action:"keep",intent:"valid",reason:"★★★ CROWN JEWEL — 392 clicks, 92.8K impressions, 9 conversions. Shipturtle's single most valuable blog page. 'Create multivendor marketplace on Shopify' is the #1 money keyword. PROTECT ABSOLUTELY. Refresh regularly, keep content depth at 4000+ words, add updated screenshots, and ensure every other Shopify page links TO this page. Never merge anything INTO this page that could dilute its focus."},
  {id:167,title:"How To Start A Multivendor Marketplace On Shopify Without Coding",url:"blog/start-multivendor-marketplace-on-shopify-without-coding",clicks:67,impressions:17297,conv:0,subcat:"Shopify No-Code",action:"keep",intent:"valid",reason:"Strong companion to #166 — targets the 'no code' modifier. 67 clicks, 17.3K impressions. Different intent: #166 targets people who've decided to build, #167 targets people who want to know if they CAN build without coding. Keep both. Add step-by-step Shipturtle setup walkthrough."},
  {id:168,title:"How to Connect Your Shopify Store to Multiple Marketplaces",url:"blog/how-to-connect-your-shopify-store-to-multiple-marketplaces",clicks:21,impressions:5729,conv:0,subcat:"Multi-Channel",action:"keep",intent:"valid",reason:"Unique angle — multi-channel marketplace connection (selling ON other marketplaces from Shopify, not building your own). 21 clicks. Complements #158 (Marketplace Connect review). Add integration guides for Amazon, eBay, Walmart, Etsy from Shopify."},

  // ── PLATFORM COMPARISON ──
  {id:169,title:"How to Integrate Marketplace Management Software with Shopify and WooCommerce",url:"blog/how-to-integrate-marketplace-management-software-with-shopify-and-woocommerce",clicks:20,impressions:15014,conv:1,subcat:"Integration",action:"keep",intent:"valid",reason:"Cross-platform integration guide — 20 clicks, 15K impressions, 1 conversion. 'Marketplace management software Shopify WooCommerce' serves operators on both platforms. Expand with API documentation links, setup guides, and troubleshooting."},
  {id:170,title:"How To Build A Powerful Multi Vendor Marketplace On WooCommerce",url:"blog/build-multi-vendor-marketplace-on-woocommerce",clicks:46,impressions:9097,conv:0,subcat:"WooCommerce",action:"keep",intent:"valid",reason:"WooCommerce counterpart to #166. 46 clicks, 9.1K impressions. 'WooCommerce multi vendor marketplace' is a proven keyword. This captures non-Shopify audience and positions Shipturtle as platform-agnostic. Expand with WooCommerce-specific plugin comparisons (Dokan, WCFM, WC Vendors vs Shipturtle)."},
  {id:171,title:"Custom Marketplace Development Services vs Off-the-Shelf Online Marketplace Software",url:"blog/custom-marketplace-development-vs-off-the-shelf-solutions",clicks:43,impressions:46295,conv:1,subcat:"Build vs Buy",action:"keep",intent:"valid",reason:"HIGH IMPRESSIONS — 43 clicks, 46.3K impressions, 1 conversion. 'Custom vs off-the-shelf marketplace' is a major decision-stage keyword. Absorb #164 and #172. Build into the definitive build-vs-buy guide with cost comparison, timeline comparison, and feature matrix."},
  {id:172,title:"Can Online Marketplace Creators Compete with Custom Development?",url:"blog/online-marketplace-creators-vs-custom-development",clicks:6,impressions:2121,conv:0,subcat:"Build vs Buy",action:"merge",intent:"valid",reason:"CANNIBALIZES #171 — same topic, weaker performance (6 clicks vs 43). The 'marketplace creators' framing is less common than 'off-the-shelf vs custom'. Merge unique arguments into #171.",mergeTarget:"→ 301 redirect to #171"},
  {id:173,title:"Technology for Online Marketplace: Multi-Vendor Platform in 2024",url:"blog/tech-for-marketplace",clicks:54,impressions:14678,conv:0,subcat:"Tech Stack",action:"keep",intent:"valid",reason:"Solid performer — 54 clicks, 14.7K impressions. 'Marketplace technology' / 'marketplace tech stack' is a growing keyword. Update year to 2026, expand with emerging tech (AI, headless commerce, composable architecture). Link to #161 (Shopify outside custom inside)."},
  {id:174,title:"Best Marketplace Software Compared for 2025",url:"blog/best-marketplace-software-compared-for-2025",clicks:18,impressions:13200,conv:0,subcat:"Software Comparison",action:"keep",intent:"valid",reason:"Category comparison page — 18 clicks, 13.2K impressions. 'Best marketplace software' is a high-volume commercial keyword. Refresh with 2026 data, add feature comparison matrix, and position Shipturtle clearly within the landscape."},
  {id:175,title:"Best Marketplace Commission Automation Tools for Shopify and Other Platforms",url:"blog/marketplace-commission-automation-tools",clicks:10,impressions:5763,conv:0,subcat:"Commission Tools",action:"keep",intent:"valid",reason:"Unique tool comparison — 10 clicks, 5.8K impressions. 'Commission automation tools' serves operators looking for specific functionality. Expand with tool-by-tool comparison, pricing matrix, and integration requirements."},
  {id:176,title:"Marketplace Management Software: Top Apps for Syncing Inventory Across Stores",url:"blog/online-marketplace-management-software-sync-inventory",clicks:62,impressions:46980,conv:3,subcat:"Inventory Sync",action:"keep",intent:"valid",reason:"STRONG PERFORMER — 62 clicks, 47K impressions, 3 conversions. 'Marketplace management software' is a high-value keyword. The inventory sync angle differentiates from generic comparisons. Expand with sync methodology comparisons (real-time vs batch), multi-channel inventory challenges, and Shipturtle sync capabilities."},
  {id:177,title:"Hiring Multi-Vendor Marketplace Website Developers: A Quick Guide",url:"blog/multi-vendor-marketplace-website-developers",clicks:20,impressions:15564,conv:0,subcat:"Developer Hiring",action:"keep",intent:"valid",reason:"Unique angle — targets people hiring developers (complementary to DIY/SaaS content). 20 clicks, 15.6K impressions. Expand with developer skill requirements, cost benchmarks, and 'when to hire vs use SaaS' decision framework."},
  {id:178,title:"Online Marketplace Development Companies for Multivendor Solutions",url:"blog/marketplace-software-development-company",clicks:38,impressions:28808,conv:2,subcat:"Dev Companies",action:"keep",intent:"valid",reason:"Solid performer with conversions — 38 clicks, 28.8K impressions, 2 conversions. 'Marketplace development company' is a commercial keyword. Complements #177 (hiring individual devs vs agencies). Refresh with updated company profiles, pricing ranges, and portfolio examples."},
  {id:179,title:"Seller Sync Solution for Marketplace on Shopify",url:"blog/seller-sync-solution",clicks:182,impressions:8467,conv:4,subcat:"Seller Sync",action:"keep",intent:"valid",reason:"CONVERSION CHAMPION — 182 clicks, 8.5K impressions, 4 conversions. Exceptional CTR (2.15%) indicates highly targeted traffic converting at high rates. 'Seller sync Shopify' is a bottom-of-funnel keyword. PROTECT. Expand with sync workflow diagrams, supported platforms, and setup guides."},

  // ── SHOPIFY KIT / ECOSYSTEM ──
  {id:181,title:"How Shipturtle Enhances Your Shipping Strategy When Using the Shopify Marketplace Kit",url:"blog/how-shipturtle-enhances-your-shipping-strategy-when-using-the-shopify-marketplace-kit",clicks:11,impressions:6143,conv:0,subcat:"Shopify Kit",action:"keep",intent:"valid",reason:"Niche but valid — 11 clicks, 6.1K impressions. 'Shopify Marketplace Kit' is a developer-focused query. This positions Shipturtle as complementary to Shopify's native toolkit. Keep as developer content. Add technical integration guide."},

  // ── GEO-EDITORIAL PAGES ──
  {id:182,title:"How EU Riders Are Moving From Facebook Groups to a Real C2C Bike Marketplace",url:"blog/build-a-c2c-bike-marketplace",clicks:0,impressions:0,conv:0,subcat:"Geo: EU",action:"repillar",intent:"valid",reason:"MISPLACED — 'C2C bike marketplace' is an industry vertical (niche marketplace type). Move to Industry Marketplaces pillar. Rewrite title for SEO: 'How to Build a Bike & Cycling Marketplace'. The Facebook-to-marketplace migration angle is a compelling hook but shouldn't be the title."},
  {id:183,title:"How Indian Handmade Marketplaces Are Scaling Beyond WordPress With Structured Product Promotion",url:"blog/multi-vendor-handmade-promotion-workflows",clicks:0,impressions:0,conv:0,subcat:"Geo: India",action:"redirect",intent:"weak",reason:"WEAK FIT — Handmade marketplace India is covered by #69 (handmade crafts, 125 clicks) in Industry Marketplaces and the 'beyond WordPress' angle overlaps with #170 (WooCommerce build guide). Neither needs this page. Redirect to #69.",mergeTarget:"→ 301 to #69"},
  {id:184,title:"The Infrastructure Behind Indonesia's Service Booking Marketplaces",url:"blog/indonesia-service-booking-marketplace-infrastructure",clicks:0,impressions:0,conv:0,subcat:"Geo: Indonesia",action:"redirect",intent:"weak",reason:"WEAK FIT — 'Service booking marketplace infrastructure' is too narrow + geo-specific. The service marketplace build guide in How to Build (#55) covers this better. Redirect to #55.",mergeTarget:"→ 301 to #55"},
  {id:185,title:"The Hidden Engine Powering UAE's Fastest Growing Gear Rental Marketplaces",url:"blog/uae-equipment-rental-booking-marketplace",clicks:0,impressions:0,conv:0,subcat:"Geo: UAE",action:"redirect",intent:"weak",reason:"WEAK FIT — 'UAE equipment rental marketplace' is an industry vertical. P2P rental page (#6) in Marketplace Types already captures this intent at 400 clicks. Redirect there.",mergeTarget:"→ 301 to #6 (P2P Rental)"},

  // ── SITE PAGES: COMPARISON LANDING PAGES ──
  {id:186,title:"Shipturtle vs Puppet Vendors",url:"compare/shipturtle-vs-puppetvendors",clicks:56,impressions:7311,conv:0,subcat:"Site: vs Page",action:"exclude",intent:"siteonly",reason:"COMPARISON LANDING PAGE — Not blog cluster content. 56 clicks, 7.3K impressions. These vs pages need their own conversion optimization strategy (feature matrix, pricing comparison, CTA placement). Exclude from pillar architecture but keep optimizing independently."},
  {id:187,title:"Shipturtle vs Shopify Collective",url:"compare/shipturtle-vs-shopify-collective",clicks:113,impressions:5353,conv:0,subcat:"Site: vs Page",action:"exclude",intent:"siteonly",reason:"COMPARISON LANDING PAGE — 113 clicks, highest vs page. Strong conversion intent. Needs CRO optimization, not pillar-cluster SEO. Link TO this from #162 (Collective benefits article)."},
  {id:188,title:"Shipturtle vs Syncio",url:"compare/shipturtle-vs-syncio",clicks:55,impressions:6692,conv:0,subcat:"Site: vs Page",action:"exclude",intent:"siteonly",reason:"COMPARISON LANDING PAGE — 55 clicks. Exclude from pillar. Optimize for conversion independently."},
  {id:189,title:"Shipturtle vs CS Cart",url:"compare/shipturtle-vs-onport",clicks:29,impressions:3582,conv:0,subcat:"Site: vs Page",action:"exclude",intent:"siteonly",reason:"COMPARISON LANDING PAGE — Note: URL says 'vs-onport' but listed as 'vs CS Cart'. Verify URL-title match. 29 clicks. Exclude from pillar."},
  {id:190,title:"Shipturtle vs Onport",url:"compare/shipturtle-vs-sharetribe",clicks:73,impressions:9114,conv:0,subcat:"Site: vs Page",action:"exclude",intent:"siteonly",reason:"COMPARISON LANDING PAGE — Note: URL says 'vs-sharetribe' but listed as 'vs Onport'. URL-title mismatch detected — verify and fix. 73 clicks. Exclude from pillar."},
  {id:191,title:"Shipturtle vs Sharetribe",url:"compare/shipturtle-vs-cscart",clicks:33,impressions:11938,conv:0,subcat:"Site: vs Page",action:"exclude",intent:"siteonly",reason:"COMPARISON LANDING PAGE — Note: URL says 'vs-cscart' but listed as 'vs Sharetribe'. Another URL-title mismatch. 11.9K impressions. Exclude from pillar but fix URL-title mismatches across all vs pages."},
  {id:192,title:"Shipturtle vs Carro",url:"compare/shipturtle-vs-carro",clicks:11,impressions:3660,conv:0,subcat:"Site: vs Page",action:"exclude",intent:"siteonly",reason:"COMPARISON LANDING PAGE — 11 clicks. Exclude from pillar. Optimize independently."},

  // ── SITE PAGE: FEATURES ──
  {id:180,title:"All the features you need for a Successful Marketplace",url:"features",clicks:24,impressions:9715,conv:0,subcat:"Site: Features",action:"exclude",intent:"siteonly",reason:"FEATURES PAGE — Not blog content. 24 clicks, 9.7K impressions. Product feature page needs its own optimization: structured feature categories, comparison with competitors, and strong CTAs. Exclude from pillar."},
];

const cannibalizationClusters=[
  {name:"Shopify Marketplace Themes",severity:"critical",pages:[
    {id:155,title:"Top 7 Shopify Themes for Multi-Vendor Marketplaces [2024]",clicks:560,impressions:32542,verdict:"winner",verdictLabel:"★ KEEP (560 clicks, 6 conv)"},
    {id:156,title:"Best Shopify Themes For Multi-Vendor Marketplace [2025]",clicks:66,impressions:8328,verdict:"merge-in",verdictLabel:"MERGE INTO #155"},
  ],reasoning:"The most straightforward cannibalization in this pillar. Both pages target 'best Shopify themes for marketplace' — nearly identical keyword. #155 dominates at 560 clicks and 6 conversions, making it the single highest-clicking blog page in this pillar. #156 appears to be an attempted refresh that never surpassed the original. Action: Merge the 2025 theme additions from #156 into #155, update the year in #155's title to 2026, and 301 redirect #156. This consolidation should push combined authority to improve #155's ranking from its current position. The 1 conversion on #156 will follow the redirect."},
  {name:"\"Is Shopify a Marketplace\" / Shopify Evaluation",severity:"high",pages:[
    {id:159,title:"Is Shopify the Right Platform for Building a Marketplace",clicks:41,impressions:12324,verdict:"winner",verdictLabel:"★ KEEP (41 clicks, 3 conv)"},
    {id:165,title:"Is Shopify a Marketplace? Building A Marketplace On Shopify The Right Way",clicks:33,impressions:6624,verdict:"merge-in",verdictLabel:"MERGE INTO #159"},
  ],reasoning:"Both pages target the evaluation-stage query 'Is Shopify right for marketplace / Is Shopify a marketplace'. #159 wins on both conversions (3 vs 2) and impressions (12.3K vs 6.6K). #165's unique angle ('the right way') should become a section within #159 covering best practices for Shopify marketplace setup. CONVERSION NOTE: #165 has 2 conversions — monitor #159's conversion rate for 30 days post-merge to ensure no conversion loss. If #159's conversions increase to 5+, the merge was successful. If they stay at 3, investigate whether the redirect is losing the audience."},
  {name:"Custom vs Off-the-Shelf / Build vs Buy",severity:"high",pages:[
    {id:171,title:"Custom Development vs Off-the-Shelf Marketplace Software",clicks:43,impressions:46295,verdict:"winner",verdictLabel:"★ KEEP (43 clicks, 46K imp)"},
    {id:172,title:"Can Online Marketplace Creators Compete with Custom Dev?",clicks:6,impressions:2121,verdict:"merge-in",verdictLabel:"MERGE INTO #171"},
    {id:164,title:"Shopify vs Custom Dev for Multi-Vendor Marketplace",clicks:7,impressions:7349,verdict:"merge-in",verdictLabel:"MERGE INTO #171"},
  ],reasoning:"Three pages all answering 'should I build custom or use a platform?' #171 dominates with 46.3K impressions — nearly 6x the combined impressions of #164 and #172. It has the broadest keyword scope ('custom vs off-the-shelf'). #164's Shopify-specific angle becomes a 'Shopify vs Custom Build' section within #171. #172's 'marketplace creators' angle becomes a 'No-Code Marketplace Builders' section. Post-merge, #171 covers the full spectrum: custom build → open source → SaaS platforms → Shopify + Shipturtle → no-code builders. One definitive guide instead of three thin competitors."},
  {name:"Comparison Landing Pages (Structural)",severity:"structural",pages:[
    {id:187,title:"Shipturtle vs Shopify Collective",clicks:113,impressions:5353,verdict:"exclude",verdictLabel:"EXCLUDE — CRO track"},
    {id:190,title:"Shipturtle vs Onport (URL: vs-sharetribe)",clicks:73,impressions:9114,verdict:"exclude",verdictLabel:"EXCLUDE — FIX URL MISMATCH"},
    {id:186,title:"Shipturtle vs Puppet Vendors",clicks:56,impressions:7311,verdict:"exclude",verdictLabel:"EXCLUDE — CRO track"},
    {id:188,title:"Shipturtle vs Syncio",clicks:55,impressions:6692,verdict:"exclude",verdictLabel:"EXCLUDE — CRO track"},
    {id:191,title:"Shipturtle vs Sharetribe (URL: vs-cscart)",clicks:33,impressions:11938,verdict:"exclude",verdictLabel:"EXCLUDE — FIX URL MISMATCH"},
    {id:189,title:"Shipturtle vs CS Cart (URL: vs-onport)",clicks:29,impressions:3582,verdict:"exclude",verdictLabel:"EXCLUDE — FIX URL MISMATCH"},
    {id:192,title:"Shipturtle vs Carro",clicks:11,impressions:3660,verdict:"exclude",verdictLabel:"EXCLUDE — CRO track"},
  ],reasoning:"CRITICAL URL-TITLE MISMATCHES DETECTED: Three comparison pages have their URLs swapped (#189 says vs-onport but title says vs CS Cart; #190 says vs-sharetribe but title says vs Onport; #191 says vs-cscart but title says vs Sharetribe). This means search engines are seeing mismatched content-URL signals, which likely hurts ranking for ALL three pages. IMMEDIATE ACTION: Fix the URL-title alignment. These 7 comparison landing pages collectively generate 370 clicks — they're strong commercial assets but need their own CRO strategy (feature comparison tables, pricing matrices, strong CTAs) separate from the blog pillar architecture."},
];

const contentGaps=[
  {title:"Best Shopify Multi-Vendor Marketplace Apps: Complete Guide 2026",desc:"Despite having individual app/tool pages, there is NO single definitive 'Shopify marketplace app' roundup page. This is arguably the #1 missing commercial page for Shipturtle — people searching 'Shopify marketplace app' should land on Shipturtle content. #163 covers plugins generally but not as a comprehensive app comparison guide.",keywords:["shopify marketplace app","best shopify multi vendor app","shopify multivendor marketplace app"],priority:"p1"},
  {title:"Shopify Collective vs Shipturtle: Complete Comparison Guide",desc:"#162 covers Collective benefits and #187 is a vs landing page, but there's no in-depth blog comparison. 'Shopify Collective vs alternatives' is a growing query. A detailed blog post supports the landing page with more depth and captures informational queries that the landing page can't rank for.",keywords:["shopify collective vs shipturtle","shopify collective alternatives","shopify collective limitations"],priority:"p1"},
  {title:"Marketplace Platform Comparison: Sharetribe vs Arcadier vs CS-Cart vs Shopify + Shipturtle",desc:"No comprehensive multi-platform comparison exists. 'Marketplace platform comparison' is a high-intent keyword for buyers evaluating options. This page should position Shipturtle within the broader marketplace platform landscape with an honest comparison matrix.",keywords:["marketplace platform comparison","best marketplace platform 2026","sharetribe vs shopify marketplace"],priority:"p1"},
  {title:"How to Choose a Marketplace Platform: Decision Framework",desc:"No decision-stage content exists. 'How to choose marketplace platform' targets evaluation-stage buyers. Should include: requirements checklist, platform scoring framework, and decision tree based on business model (B2B/B2C/C2C) and budget.",keywords:["how to choose marketplace platform","marketplace platform selection criteria","marketplace software buyer guide"],priority:"p1"},
  {title:"Shopify Marketplace App vs Plugin: What's the Difference?",desc:"No content clarifies the Shopify app vs plugin distinction for marketplace operators. This is a common confusion point. Covers: Shopify App Store apps, third-party integrations, SDK vs API, and plugin compatibility considerations.",keywords:["shopify marketplace app vs plugin","shopify multi vendor plugin comparison","shopify marketplace extension"],priority:"p2"},
  {title:"Marketplace Platform Migration Guide: Moving Your Marketplace Without Losing Data",desc:"#160 covers WooCommerce → Shopify migration but no general migration guide exists. Marketplace migration (from any platform to Shopify + Shipturtle, or from competitors to Shipturtle) is a growing need.",keywords:["marketplace platform migration","migrate marketplace to shopify","switch marketplace platform"],priority:"p2"},
  {title:"Headless Commerce for Marketplaces: When and How to Go Headless",desc:"No content on headless marketplace architecture. 'Headless marketplace' is a growing developer keyword. This supports both the technical audience and positions Shipturtle as API-first capable.",keywords:["headless marketplace","headless commerce marketplace","marketplace api first"],priority:"p3"},
  {title:"Marketplace Platform Total Cost of Ownership (TCO) Calculator",desc:"No interactive/comprehensive TCO comparison exists. 'Marketplace platform cost' is high-intent. An interactive calculator or detailed cost breakdown (hosting, apps, development, maintenance) would be a linkable asset and conversion tool.",keywords:["marketplace platform cost","marketplace total cost of ownership","marketplace software pricing comparison"],priority:"p3"},
];

function getMetricClass(c,i){if(c===0&&i===0)return'zero';if(c<10)return'low';if(c<50)return'mid';return'high'}
function renderStats(){const a={};pages.forEach(p=>{a[p.action]=(a[p.action]||0)+1});const blogPages=pages.filter(p=>p.action!=='exclude');const tc=blogPages.reduce((s,p)=>s+p.clicks,0),ti=blogPages.reduce((s,p)=>s+p.impressions,0),tv=blogPages.reduce((s,p)=>s+p.conv,0);
document.getElementById('statsBar').innerHTML=`<div class="stat-card"><div class="label">Total Assigned</div><div class="value">${pages.length}</div><div class="sub">${a.exclude||0} site pages excluded</div></div><div class="stat-card"><div class="label">Blog Clicks</div><div class="value">${tc.toLocaleString()}</div><div class="sub">${tv} conversions</div></div><div class="stat-card keep"><div class="label">Keep</div><div class="value">${a.keep||0}</div></div><div class="stat-card merge"><div class="label">Merge</div><div class="value">${a.merge||0}</div></div><div class="stat-card rewrite"><div class="label">Rewrite</div><div class="value">${a.rewrite||0}</div></div><div class="stat-card redirect"><div class="label">Redirect</div><div class="value">${a.redirect||0}</div></div><div class="stat-card repillar"><div class="label">Re-Pillar</div><div class="value">${a.repillar||0}</div></div><div class="stat-card exclude"><div class="label">Exclude</div><div class="value">${a.exclude||0}</div></div>`}
let currentFilter='all',currentSort={key:'id',dir:'asc'};
function renderFilters(){const actions=['all','keep','merge','rewrite','redirect','repillar','exclude'],labels={all:'All',keep:'Keep',merge:'Merge',rewrite:'Rewrite',redirect:'Redirect',repillar:'Re-Pillar',exclude:'Exclude'};document.getElementById('filters').innerHTML=actions.map(a=>`<button class="filter-btn ${a!=='all'?a:''} ${currentFilter===a?'active':''}" data-filter="${a}">${labels[a]}</button>`).join('');document.querySelectorAll('.filter-btn').forEach(b=>{b.addEventListener('click',()=>{currentFilter=b.dataset.filter;renderFilters();renderTable()})})}
function renderTable(){let f=currentFilter==='all'?[...pages]:pages.filter(p=>p.action===currentFilter);f.sort((a,b)=>{let va=a[currentSort.key],vb=b[currentSort.key];if(currentSort.key==='ctr'){va=a.impressions>0?a.clicks/a.impressions:0;vb=b.impressions>0?b.clicks/b.impressions:0}if(currentSort.key==='conversions'){va=a.conv;vb=b.conv}if(currentSort.key==='title'){va=a.title;vb=b.title}if(currentSort.key==='subcat'){va=a.subcat;vb=b.subcat}if(currentSort.key==='action'){va=a.action;vb=b.action}if(typeof va==='string')return currentSort.dir==='asc'?va.localeCompare(vb):vb.localeCompare(va);return currentSort.dir==='asc'?va-vb:vb-va});document.getElementById('pageCount').textContent=f.length;document.getElementById('auditBody').innerHTML=f.map(p=>{const ctr=p.impressions>0?((p.clicks/p.impressions)*100).toFixed(2):'0.00',mc=getMetricClass(p.clicks,p.impressions);const ic=p.intent==='valid'?'valid':p.intent==='weak'?'weak':p.intent==='siteonly'?'siteonly':'offbrand';const il=p.intent==='valid'?'✓ Intent Valid':p.intent==='weak'?'⚠ Weak Fit':p.intent==='siteonly'?'◆ Site Page':'✗ Off-Brand';return`<tr><td class="metric" style="text-align:center;color:var(--text-dim)">${p.id}</td><td><div class="page-title"><a href="https://www.shipturtle.com/${p.url}" target="_blank">${p.title}</a></div><div class="page-url">/${p.url}</div></td><td><span class="page-subcategory">${p.subcat}</span></td><td class="metric ${mc}" style="text-align:right">${p.clicks.toLocaleString()}</td><td class="metric ${mc}" style="text-align:right">${p.impressions.toLocaleString()}</td><td class="metric" style="text-align:right"><span class="ctr">${ctr}%</span></td><td class="metric ${p.conv>0?'has-conv':''}" style="text-align:right">${p.conv>0?p.conv:'—'}</td><td><span class="action-badge ${p.action}">${p.action==='repillar'?'Re-Pillar':p.action==='exclude'?'Exclude':p.action}</span></td><td><div class="reasoning">${p.reason}${p.mergeTarget?'<span class="merge-target">'+p.mergeTarget+'</span>':''}<span class="intent-tag ${ic}">${il}</span></div></td></tr>`}).join('')}
function renderCannibalization(){document.getElementById('cannibalCount').textContent=cannibalizationClusters.length;document.getElementById('cannibalList').innerHTML=cannibalizationClusters.map(c=>`<div class="cannibal-card"><div class="cannibal-header"><div class="cannibal-cluster-name">${c.name}<span class="severity ${c.severity}">${c.severity}</span></div><span style="font-size:12px;color:var(--text-dim)">${c.pages.length} pages</span></div><div class="cannibal-pages">${c.pages.map(p=>`<div class="cannibal-page ${p.verdict==='winner'?'winner':'loser'}"><span class="verdict-badge ${p.verdict}">${p.verdictLabel}</span><span style="font-weight:500">#${p.id} — ${p.title}</span><span class="metric mid" style="font-size:12px">${p.clicks.toLocaleString()} clicks</span><span class="metric" style="font-size:12px;color:var(--text-dim)">${p.impressions.toLocaleString()} imp</span></div>`).join('')}</div><div class="cannibal-reasoning">${c.reasoning}</div></div>`).join('')}
function renderGaps(){document.getElementById('gapCount').textContent=contentGaps.length;document.getElementById('gapList').innerHTML=contentGaps.map(g=>`<div class="gap-card"><div><div class="gap-title">${g.title}</div><div class="gap-desc">${g.desc}</div><div class="gap-keywords">${g.keywords.map(k=>`<span class="gap-kw">${k}</span>`).join('')}</div></div><span class="gap-priority ${g.priority}">${g.priority==='p1'?'High Priority':g.priority==='p2'?'Medium':'Low'}</span></div>`).join('')}
document.querySelectorAll('.tab').forEach(t=>{t.addEventListener('click',()=>{document.querySelectorAll('.tab').forEach(x=>x.classList.remove('active'));document.querySelectorAll('.tab-content').forEach(x=>x.classList.remove('active'));t.classList.add('active');document.getElementById('tab-'+t.dataset.tab).classList.add('active')})});
document.querySelectorAll('thead th[data-sort]').forEach(th=>{th.addEventListener('click',()=>{const k=th.dataset.sort;if(currentSort.key===k)currentSort.dir=currentSort.dir==='asc'?'desc':'asc';else currentSort={key:k,dir:k==='clicks'||k==='impressions'||k==='ctr'||k==='conversions'?'desc':'asc'};renderTable()})});
renderStats();renderFilters();renderTable();renderCannibalization();renderGaps();
</script>
</body>
</html>
